<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		
		<title>h5canvas</title>
		<style>
			body {
			    background-color: #0c1328;
			    position: absolute;
			    left: 0;
			    top: 0;
			    right: 0;
			    bottom: 0;
			}
		</style>
	</head>
	<body>
		<canvas id="myCanvas" width="964" height="1723">
			您的浏览器不支持canvas
		</canvas>
	
	<script>
		var canvas = document.getElementById("myCanvas");
		canvas.width = document.body.clientWidth ;
    	canvas.height = document.body.clientHeight;
		if(canvas.getContext){
			var ctx = canvas.getContext('2d');
		}

		var imgList = [{ 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/1.jpg?1520", 
			imgW: "750", 
			imgH: "1206" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/2.jpg?1520", 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "375", 
			areaH: "603", 
			areaL: "1379", 
			areaT: "103", 
			limitMax: .3, 
			limitMin: .2 
		}, {
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/3.jpg?1520", 
			limitMax: .12, 
			limitMin: .08, 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "152", 
			areaH: "244", 
			areaL: "791", 
			areaT: "1193" 
		}, { 
			link: "http://img4.cache.netease.com/f2e/ent/ent_painting2016/images/4.jpg?44", 
			limitMax: .22, 
			limitMin: .15, 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "282", 
			areaH: "454", 
			areaL: "857", 
			areaT: "413" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/5.jpg?44", 
			limitMax: .18, 
			limitMin: .123, 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "232", 
			areaH: "372", 
			areaL: "388", 
			areaT: "844" 
		}, { 
			link: "http://img4.cache.netease.com/f2e/ent/ent_painting2016/images/6.jpg?1200", 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "187", 
			areaH: "300", 
			areaL: "359", 
			areaT: "1226" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/6_5.jpg?1520", 
			limitMax: .6, 
			limitMin: .415, 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "778", 
			areaH: "1251", 
			areaL: "133", 
			areaT: "856" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/7.jpg?1520", 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "278", 
			areaH: "446", 
			areaL: "794", 
			areaT: "783" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/7_5.jpg?1520", 
			limitMax: .75, 
			limitMin: .5, 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "938", 
			areaH: "1507", 
			areaL: "428", 
			areaT: "454" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/8.jpg?1520", 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "290", 
			areaH: "466", 
			areaL: "1276", 
			areaT: "665" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/8_5.jpg?1520", 
			limitMax: .6, 
			limitMin: .415, 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "782", 
			areaH: "1258", 
			areaL: "977", 
			areaT: "557" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/9.jpg?1520", 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "238", 
			areaH: "382", 
			areaL: "1206", 
			areaT: "2310" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/9_5.jpg?1520", 
			limitMax: .47, 
			limitMin: .355, 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "669", 
			areaH: "1076", 
			areaL: "894", 
			areaT: "1608" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/10.jpg?1520", 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "247", 
			areaH: "396", 
			areaL: "285", 
			areaT: "45" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/10_5.jpg?1520", 
			limitMax: .75, 
			limitMin: .5, 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "938", 
			areaH: "1507", 
			areaL: "264", 
			areaT: "21" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/11.jpg?1520", 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "434", 
			areaH: "698", 
			areaL: "1059", 
			areaT: "192" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/11_5.jpg?1520", 
			limitMax: .6, 
			limitMin: .415, 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "780", 
			areaH: "1256", 
			areaL: "1038", 
			areaT: "679" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/12.jpg?1520", 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "415", 
			areaH: "668", 
			areaL: "226", 
			areaT: "2210" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/12_5.jpg?1520", 
			limitMax: .6, 
			limitMin: .415, 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "782", 
			areaH: "1258", 
			areaL: "356", 
			areaT: "1652" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/13.jpg?1520", 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "288", 
			areaH: "462", 
			areaL: "1494", 
			areaT: "528" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/13_5.jpg?1520", 
			limitMax: .6, 
			limitMin: .415, 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "782", 
			areaH: "1257", 
			areaL: "1017", 
			areaT: "482" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/14.jpg?1520", 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "99", 
			areaH: "160", 
			areaL: "1158", 
			areaT: "2312" 
		}, { 
			link: "http://img3.cache.netease.com/f2e/ent/ent_painting2016/images/15.jpg?1520", 
			limitMax: .1, 
			limitMin: .053, 
			imgW: "1875", 
			imgH: "3015", 
			areaW: "469", 
			areaH: "753", 
			areaL: "1001", 
			areaT: "2034 " 
		}];
			var radio = 1, index = 0, fps = 40, scale = .985, scaleSlow = .995; 			
			function draw(){				
				
				
				if(index + 1 != imgList.length) { 
					if(radio < imgList[index + 1].areaW /imgList[index + 1].imgW && (index++, radio = 1, !imgList[index + 1])) 
					return console.log(0);
					imgNext = imgList[index + 1], 
					imgCur = imgList[index], 
					img_oversize = init(imgNext.link), 
					img_minisize = init(imgCur.link),
					ctx.clearRect(0,0,canvas.width,canvas.height),
					drawImgOversize(img_oversize, imgNext.imgW, imgNext.imgH, imgNext.areaW, imgNext.areaH, imgNext.areaL, imgNext.areaT, radio), 
					drawImgMinisize(img_minisize, imgCur.imgW, imgCur.imgH, imgNext.imgW, imgNext.imgH, imgNext.areaW, imgNext.areaH, imgNext.areaL,imgNext.areaT,radio);
					move();
				}
				requestAnimationFrame(draw);
			}
			function init(src){
				var image = new Image();
				image.src=src;
				return image								
			}
			function move(){				
				radio = radio *0.995;	
										
			}
			draw();
			
			function drawImgMinisize(i, e, t, a, n, m, s, g, r, o) { 
				ctx.drawImage(i, 0, 0, e, t, (m / o - m) * (g / (a - m)) * o * 750 / m, (s / o - s) * (r / (n - s)) * o * 1206 / s, 750 * o, 1206 * o) 
			};
			function drawImgOversize(i, e, t, a, n, m, s, g) { 
				ctx.drawImage(i, m - (a / g - a) * (m / (e - a)), s - (n / g - n) * (s / (t - n)), a / g, n / g, 0, 0, 750, 1206) 
			}
	</script>
